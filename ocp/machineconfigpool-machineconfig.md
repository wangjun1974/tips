### 创建 zone0 的 MachineConfig 
### 参考：https://access.redhat.com/solutions/5688941

```
### 为节点打标签 zone0
$ oc label node worker-0.zone0.example.com node-role.kubernetes.io/zone0=
$ oc label node worker-1.zone0.example.com node-role.kubernetes.io/zone0=

### 创建 mcp/zone0
cat <<EOF | oc apply -f -
apiVersion: machineconfiguration.openshift.io/v1
kind: MachineConfigPool
metadata:
  name: zone0
spec:
  machineConfigSelector:
    matchExpressions:
      - {key: machineconfiguration.openshift.io/role, operator: In, values: [worker,zone0]}
  nodeSelector:
    matchLabels:
      node-role.kubernetes.io/zone0: ""
EOF

### 生成 machineconfig 99-zone0-resolv-configuration
source ~/.bashrc-ocp4-1

setVAR RESOLV_CONF $(cat << EOF | base64 -w 0
# Generated by NetworkManager
search zone0.example.com
nameserver 192.168.122.12
# Test MCP for zone0
EOF)

echo $RESOLV_CONF | base64 -d 

cat << EOF | oc apply -f -
apiVersion: machineconfiguration.openshift.io/v1
kind: MachineConfig
metadata:
  labels:
    machineconfiguration.openshift.io/role: zone0
  name: 99-zone0-resolv-configuration
spec:
  config:
    ignition:
      config: {}
      security:
        tls: {}
      timeouts: {}
      version: 3.2.0
    networkd: {}
    passwd: {}
    storage:
      files:
      - contents:
          source: data:text/plain;charset=utf-8;base64,${RESOLV_CONF}
        mode: 420
        overwrite: true
        path: /etc/resolv.conf
  osImageURL: ""
EOF
```